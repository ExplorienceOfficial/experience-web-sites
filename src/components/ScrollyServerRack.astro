---
// Premium 3D Server Rack Mockup
---
<div class="server-rack-3d">
   <div class="server-glow"></div>
   <div class="server-chassis">
      <!-- Blade 1 (Master Node) -->
      <div class="blade-3d b1" id="server-blade-1">
          <div class="blade-face front">
              <div class="blade-handle"></div>
              <div class="blade-cooling-vents"></div>
              <div class="blade-ports">
                  <div class="port connected"><div class="plug-cable"><div class="data-flow"></div></div></div>
                  <div class="port"></div>
              </div>
              <div class="blade-status"><div class="led grid"></div></div>
          </div>
          <div class="blade-face top"></div>
          <div class="blade-face right"></div>
      </div>

      <!-- Blade 2 (Storage Node) - Drives pop out on hover! -->
      <div class="blade-3d b2" id="server-blade-2">
          <div class="blade-face front">
              <div class="blade-handle"></div>
              <div class="blade-storage-bays">
                 <div class="bay active b-pop-1"></div>
                 <div class="bay active b-pop-2"></div>
                 <div class="bay b-pop-3"></div>
                 <div class="bay active b-pop-4"></div>
              </div>
              <div class="blade-status"><div class="led blink-slow"></div></div>
          </div>
          <div class="blade-face top"></div>
          <div class="blade-face right"></div>
      </div>

      <!-- Blade 3 (Compute Node) -->
      <div class="blade-3d b3" id="server-blade-3">
          <div class="blade-face front">
              <div class="blade-handle"></div>
              <div class="blade-cooling-vents"></div>
              <div class="blade-ports">
                  <div class="port connected"><div class="plug-cable"><div class="data-flow p-alt"></div></div></div>
                  <div class="port connected"><div class="plug-cable"><div class="data-flow p-grn"></div></div></div>
              </div>
              <div class="blade-status"><div class="led blink-fast"></div></div>
          </div>
          <div class="blade-face top"></div>
          <div class="blade-face right"></div>
      </div>
   </div>
</div>

<style>
/* ========================================
   PREMIUM 3D SERVER RACK
   ======================================== */
.server-rack-3d {
   width: 250px; height: 380px;
   transform-style: preserve-3d;
   position: relative;
   cursor: pointer;
}

.server-glow {
   position: absolute; top: 10%; left: -20%; width: 140%; height: 80%;
   background: radial-gradient(ellipse, rgba(59,130,246,0.3) 0%, transparent 70%);
   transform: translateZ(-50px); filter: blur(20px);
   animation: server-pulse 4s infinite alternate;
}

.server-chassis {
   width: 100%; height: 100%;
   background: linear-gradient(145deg, #18181b, #09090b);
   border: 2px solid #3f3f46;
   border-top: 3px solid #71717a;
   border-radius: 12px;
   transform-style: preserve-3d;
   padding: 25px 20px;
   display: flex; flex-direction: column; gap: 28px;
   box-shadow: 
      inset 0 0 80px rgba(0,0,0,0.95),
      -20px 20px 40px rgba(0,0,0,0.8),
      inset 2px 2px 10px rgba(255,255,255,0.05);
   position: relative;
}

/* Premium Full-Glass Front Door Illusion */
.server-chassis::after {
   content: ''; position: absolute; inset: -4px; border-radius: 12px;
   background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.02) 40%, transparent 60%);
   border: 1px solid rgba(255,255,255,0.1);
   transform: translateZ(50px); pointer-events: none;
   box-shadow: inset -5px -5px 15px rgba(0,0,0,0.5);
   backdrop-filter: blur(1px);
   transition: all 0.5s ease;
}

/* HOVER EFFECT: Glass door opens/disappears, drives spin up */
.server-rack-3d:hover .server-chassis::after {
   transform: translateZ(50px) translateX(90%) rotateY(80deg); opacity: 0;
}

.blade-3d {
   width: 100%; height: 60px;
   position: relative;
   transform-style: preserve-3d;
   transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* HOVER EFFECT: Blades pop out independently */
.server-rack-3d:hover .b1 { transform: translateZ(30px); }
.server-rack-3d:hover .b2 { transform: translateZ(55px); transition-delay: 0.1s; box-shadow: 0 10px 30px rgba(0,0,0,0.9); }
.server-rack-3d:hover .b3 { transform: translateZ(20px); transition-delay: 0.05s; }


/* 3D Box Faces for Blades - Brushed Metal Look */
.blade-face { position: absolute; border: 1px solid #18181b; }
.blade-face.front { 
   width: 100%; height: 100%; transform: translateZ(25px);
   display: flex; align-items: center; justify-content: space-between; padding: 0 10px;
   background: linear-gradient(90deg, #27272a, #3f3f46, #27272a);
   background-size: 200% 100%;
   box-shadow: inset 1px 1px 3px rgba(255,255,255,0.2), 0 10px 15px -5px rgba(0,0,0,0.7);
   border-radius: 4px; border: 1px solid #71717a;
}
.blade-face.top {
   width: 100%; height: 45px; transform: rotateX(90deg) translateZ(22.5px);
   background: #09090b; top: -22.5px;
   background-image: repeating-linear-gradient(90deg, transparent, transparent 10px, rgba(0,0,0,0.4) 10px, rgba(0,0,0,0.4) 20px);
}
.blade-face.right {
   width: 45px; height: 100%; transform: rotateY(90deg) translateZ(205px);
   background: #09090b; right: -22.5px;
}

/* Premium Blade Details */
.blade-handle {
   width: 8px; height: 35px; background: linear-gradient(to bottom, #d4d4d8, #52525b);
   border-radius: 2px; box-shadow: 2px 0 5px rgba(0,0,0,0.5);
}
.blade-cooling-vents {
   flex-grow: 1; margin: 0 15px; height: 20px;
   background: repeating-linear-gradient(to right, #09090b, #09090b 3px, #27272a 3px, #27272a 6px);
   border-radius: 2px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.8);
}
.blade-storage-bays {
   flex-grow: 1; margin: 0 15px; height: 30px; display: flex; gap: 4px; transform-style: preserve-3d;
}
.bay {
   flex: 1; background: #18181b; border: 1px solid #3f3f46; border-radius: 2px; position: relative;
   transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* HOVER EFFECT: Hot-Swap Drives physically extrude */
.server-rack-3d:hover .b-pop-1 { transform: translateZ(25px); transition-delay: 0.2s; }
.server-rack-3d:hover .b-pop-2 { transform: translateZ(10px); transition-delay: 0.3s; }
.server-rack-3d:hover .b-pop-3 { transform: translateZ(35px); transition-delay: 0.15s; }
.server-rack-3d:hover .b-pop-4 { transform: translateZ(15px); transition-delay: 0.25s; }

.bay.active::after {
   content: ''; position: absolute; bottom: 3px; right: 3px; width: 4px; height: 4px;
   background: #10b981; border-radius: 50%; box-shadow: 0 0 6px #10b981;
   animation: disk-io 0.8s infinite;
}
.bay.active:nth-child(1)::after { animation-duration: 0.4s; }
.bay.active:nth-child(2)::after { animation-delay: 0.3s; animation-duration: 1.1s; }
.bay.active:nth-child(4)::after { animation-delay: 0.7s; animation-duration: 0.6s; }

/* HOVER EFFECT: Drives glow red-hot on hover */
.server-rack-3d:hover .bay.active::after {
   background: #ef4444; box-shadow: 0 0 15px #ef4444; animation-duration: 0.1s;
}

.blade-ports { display: flex; gap: 5px; margin-right: 10px; }
.port { width: 14px; height: 10px; background: #000; border: 1px solid #52525b; border-radius: 1px; position: relative; }
.port.connected::after {
   content: ''; position: absolute; top: 1px; left: 1px; right: 1px; bottom: 3px;
   background: rgba(59,130,246,0.6); box-shadow: 0 0 6px #3b82f6; 
   animation: network-traffic 0.3s infinite;
}

.blade-status { display: flex; gap: 5px; flex-direction: column; }
.led { width: 6px; height: 6px; border-radius: 3px; }
.led.grid { background: #3b82f6; box-shadow: 0 0 8px #3b82f6; animation: led-random 1.2s infinite; }
.led.blink-fast { background: #10b981; box-shadow: 0 0 8px #10b981; animation: led-fast 0.2s infinite; }
.led.blink-slow { background: #ef4444; box-shadow: 0 0 8px #ef4444; animation: led-slow 2s infinite; }

/* Photorealistic Blinking Keyframes */
@keyframes disk-io { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }
@keyframes network-traffic { 0% { opacity: 1; } 40% { opacity: 0.3; } 60% { opacity: 0.8; } 100% { opacity: 0.2; } }
@keyframes led-fast { 0%, 40% { opacity: 1; } 50%, 100% { opacity: 0.1; } }
@keyframes led-slow { 0%, 10% { opacity: 1; box-shadow: 0 0 15px #ef4444; } 15%, 100% { opacity: 0.2; box-shadow: none; } }
@keyframes led-random { 0%, 20%, 50%, 80%, 100% { opacity: 1; } 10%, 35%, 65%, 90% { opacity: 0.3; } }


/* Interactive Plugged Cables */
.plug-cable {
   position: absolute; top: 6px; left: 50%; 
   width: 8px; height: 250px;
   background: linear-gradient(to right, #18181b, #09090b, #18181b);
   border: 1px solid #27272a; border-top: none; border-radius: 0 0 4px 4px;
   box-shadow: 5px 5px 15px rgba(0,0,0,0.8);
   overflow: hidden; z-index: 50; transform-origin: top center;
   animation: cable-swing 5s ease-in-out infinite alternate;
}

/* Data Packets inside cables */
.data-flow {
   position: absolute; top: -40px; left: 0; width: 100%; height: 35px;
   background: #3b82f6; box-shadow: 0 0 15px 5px #3b82f6;
   border-radius: 3px;
   animation: data-stream 2.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}
.p-alt { background: #a855f7; box-shadow: 0 0 15px 5px #a855f7; animation-delay: 1s; animation-duration: 1.8s; }
.p-grn { background: #10b981; box-shadow: 0 0 15px 5px #10b981; animation-delay: 0.5s; animation-duration: 3s; }

/* HOVER EFFECT: Cables surge with energy */
.server-rack-3d:hover .data-flow {
   background: #fff; box-shadow: 0 0 30px 10px #0ea5e9;
   animation-duration: 0.5s !important; height: 80px;
}

@keyframes cable-swing {
   0% { transform: translateX(-50%) rotateZ(-2deg); }
   100% { transform: translateX(-50%) rotateZ(3deg); }
}
@keyframes data-stream {
   0% { top: -40px; opacity: 1; }
   70% { top: 100%; opacity: 1; }
   100% { top: 100%; opacity: 0; }
}

@keyframes server-pulse { 0% { opacity: 0.6; } 100% { opacity: 1; } }
</style>
