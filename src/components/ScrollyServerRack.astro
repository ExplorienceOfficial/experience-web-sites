---
// Premium 3D Server Rack
---
<div class="server-rack-3d">
   <div class="server-glow"></div>
   <div class="server-chassis">
      <!-- Blade 1 (Master Node) -->
      <div class="blade-3d b1" id="server-blade-1" style="transition: transform 0.1s linear;">
          <div class="blade-face front">
              <div class="blade-handle"></div>
              <div class="blade-cooling-vents"></div>
              <div class="blade-ports">
                  <div class="port connected"><div class="plug-cable c-p1"><div class="data-flow b-blue"></div></div></div>
                  <div class="port"></div>
              </div>
              <div class="blade-status"><div class="led grid"></div><div class="led blink-fast"></div></div>
          </div>
          <div class="blade-face top"></div>
          <div class="blade-face right"></div>
      </div>
      <!-- Blade 2 (Storage Node) -->
      <div class="blade-3d b2" id="server-blade-2" style="transition: transform 0.1s linear;">
          <div class="blade-face front">
              <div class="blade-handle"></div>
              <div class="blade-storage-bays">
                 <div class="bay active"></div><div class="bay active"></div><div class="bay"></div><div class="bay active"></div>
              </div>
              <div class="blade-status"><div class="led grid"></div><div class="led blink-slow"></div></div>
          </div>
          <div class="blade-face top"></div>
          <div class="blade-face right"></div>
      </div>
      <!-- Blade 3 (Compute Node) -->
      <div class="blade-3d b3" id="server-blade-3" style="transition: transform 0.1s linear;">
          <div class="blade-face front">
              <div class="blade-handle"></div>
              <div class="blade-cooling-vents"></div>
              <div class="blade-ports">
                  <div class="port connected"><div class="plug-cable c-p2"><div class="data-flow b-purple delay-1"></div></div></div>
                  <div class="port connected"><div class="plug-cable c-p3"><div class="data-flow b-green delay-2"></div></div></div>
              </div>
              <div class="blade-status"><div class="led blink-fast"></div><div class="led grid"></div></div>
          </div>
          <div class="blade-face top"></div>
          <div class="blade-face right"></div>
      </div>
   </div>
</div>

<style>
/* ========================================
   2. SERVER RACK (Premium 3D Hyper-detailed Box)
   ======================================== */
.server-rack-3d {
   width: 250px; height: 380px;
   transform-style: preserve-3d;
   position: relative;
}
.server-glow {
   position: absolute; top: 10%; left: -20%; width: 140%; height: 80%;
   background: radial-gradient(ellipse, rgba(59,130,246,0.3) 0%, transparent 70%);
   transform: translateZ(-50px); filter: blur(20px);
   animation: server-pulse 4s infinite alternate;
}

.server-chassis {
   width: 100%; height: 100%;
   background: linear-gradient(145deg, #1e293b, #0f172a);
   border: 2px solid #475569;
   border-top: 3px solid #64748b;
   border-radius: 12px;
   transform-style: preserve-3d;
   padding: 25px 20px;
   display: flex; flex-direction: column; gap: 28px;
   box-shadow: 
      inset 0 0 80px rgba(0,0,0,0.95),
      -40px 40px 80px rgba(0,0,0,0.8),
      inset 2px 2px 10px rgba(255,255,255,0.05);
   position: relative;
}
/* Premium Full-Glass Front Door Illusion */
.server-chassis::after {
   content: ''; position: absolute; inset: -3px; border-radius: 12px;
   background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.02) 40%, transparent 60%);
   border: 1px solid rgba(255,255,255,0.1);
   transform: translateZ(40px); pointer-events: none;
   box-shadow: inset -5px -5px 15px rgba(0,0,0,0.5);
   backdrop-filter: blur(1px);
}

.blade-3d {
   width: 100%; height: 60px;
   position: relative;
   transform-style: preserve-3d;
}
/* 3D Box Faces for Blades - Brushed Metal Look */
.blade-face { position: absolute; border: 1px solid #000; }
.blade-face.front { 
   width: 100%; height: 100%; transform: translateZ(25px);
   display: flex; align-items: center; justify-content: space-between; padding: 0 10px;
   background: linear-gradient(90deg, #1e293b, #334155, #1e293b);
   background-size: 200% 100%;
   box-shadow: inset 1px 1px 3px rgba(255,255,255,0.2), 0 10px 15px -5px rgba(0,0,0,0.7);
   border-radius: 4px; border: 1px solid #64748b;
}
.blade-face.top {
   width: 100%; height: 45px; transform: rotateX(90deg) translateZ(22.5px);
   background: #0f172a; top: -22.5px;
   background-image: repeating-linear-gradient(90deg, transparent, transparent 10px, rgba(0,0,0,0.2) 10px, rgba(0,0,0,0.2) 20px);
}
.blade-face.right {
   width: 45px; height: 100%; transform: rotateY(90deg) translateZ(205px);
   background: #020617; right: -22.5px;
}

/* Premium Blade Details */
.blade-handle {
   width: 8px; height: 35px; background: linear-gradient(to bottom, #94a3b8, #475569);
   border-radius: 2px; box-shadow: 2px 0 5px rgba(0,0,0,0.5);
}
.blade-cooling-vents {
   flex-grow: 1; margin: 0 15px; height: 20px;
   background: repeating-linear-gradient(to right, #020617, #020617 3px, #1e293b 3px, #1e293b 6px);
   border-radius: 2px; box-shadow: inset 0 2px 4px rgba(0,0,0,0.8);
}
.blade-storage-bays {
   flex-grow: 1; margin: 0 15px; height: 30px; display: flex; gap: 4px;
}
.bay {
   flex: 1; background: #0f172a; border: 1px solid #334155; border-radius: 2px; position: relative;
}
.bay.active::after {
   content: ''; position: absolute; bottom: 3px; right: 3px; width: 4px; height: 4px;
   background: #10b981; border-radius: 50%; box-shadow: 0 0 6px #10b981;
   animation: disk-io 0.8s infinite;
}
.bay.active:nth-child(1)::after { animation-duration: 0.4s; }
.bay.active:nth-child(2)::after { animation-delay: 0.3s; animation-duration: 1.1s; }
.bay.active:nth-child(4)::after { animation-delay: 0.7s; animation-duration: 0.6s; }

.blade-ports { display: flex; gap: 5px; margin-right: 10px; }
.port { width: 14px; height: 10px; background: #000; border: 1px solid #475569; border-radius: 1px; position: relative; }
.port.connected::after {
   content: ''; position: absolute; top: 1px; left: 1px; right: 1px; bottom: 3px;
   background: rgba(59,130,246,0.6); box-shadow: 0 0 6px #3b82f6; 
   animation: network-traffic 0.3s infinite;
}

.blade-status { display: flex; gap: 5px; flex-direction: column; }
.led { width: 6px; height: 6px; border-radius: 3px; }
.led.grid { background: #3b82f6; box-shadow: 0 0 8px #3b82f6; animation: led-random 1.2s infinite; }
.led.blink-fast { background: #10b981; box-shadow: 0 0 8px #10b981; animation: led-fast 0.2s infinite; }
.led.blink-slow { background: #ef4444; box-shadow: 0 0 8px #ef4444; animation: led-slow 2s infinite; }

/* Photorealistic Blinking Keyframes */
@keyframes disk-io { 0%, 100% { opacity: 1; } 50% { opacity: 0.2; } }
@keyframes network-traffic { 0% { opacity: 1; } 40% { opacity: 0.3; } 60% { opacity: 0.8; } 100% { opacity: 0.2; } }
@keyframes led-fast { 0%, 40% { opacity: 1; } 50%, 100% { opacity: 0.1; } }
@keyframes led-slow { 0%, 10% { opacity: 1; box-shadow: 0 0 15px #ef4444; } 15%, 100% { opacity: 0.2; box-shadow: none; } }
@keyframes led-random {
  0%, 20%, 50%, 80%, 100% { opacity: 1; }
  10%, 35%, 65%, 90% { opacity: 0.3; }
}

/* Interactive Plugged Cables */
.plug-cable {
   position: absolute; top: 6px; left: 50%; 
   width: 6px; background: linear-gradient(to right, #1e293b, #0f172a, #1e293b);
   border: 1px solid #000; border-top: none;
   border-radius: 0 0 3px 3px;
   box-shadow: 5px 5px 15px rgba(0,0,0,0.8);
   overflow: hidden; z-index: 50;
   transform-origin: top center;
   /* Organic swaying motion */
   animation: cable-swing 4s ease-in-out infinite alternate;
}
.c-p1 { height: 300px; animation-duration: 5s; }
.c-p2 { height: 160px; animation-duration: 4.2s; animation-delay: -1s; }
.c-p3 { height: 140px; animation-duration: 3.8s; animation-delay: -2s; }

/* Data Packets inside cables */
.data-flow {
   position: absolute; top: -40px; left: 0; width: 100%; height: 35px;
   border-radius: 3px;
   animation: data-stream 2.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}
.b-blue { background: #3b82f6; box-shadow: 0 0 12px 4px #3b82f6; }
.b-purple { background: #a855f7; box-shadow: 0 0 12px 4px #a855f7; }
.b-green { background: #10b981; box-shadow: 0 0 12px 4px #10b981; }

.delay-1 { animation-delay: 0.7s; }
.delay-2 { animation-delay: 1.4s; }

@keyframes cable-swing {
   0% { transform: translateX(-50%) rotateZ(-1deg); }
   100% { transform: translateX(-50%) rotateZ(2deg); }
}
@keyframes data-stream {
   0% { top: -40px; opacity: 1; }
   70% { top: 100%; opacity: 1; }
   100% { top: 100%; opacity: 0; }
}

@keyframes server-pulse { 0% { opacity: 0.6; } 100% { opacity: 1; } }
</style>
